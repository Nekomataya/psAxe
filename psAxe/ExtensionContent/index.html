<!doctype html>

<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet"  type="text/css" href="./nas/ext-lib/jquery-ui-1.10.2.custom.min.css">
<link id="ppstyle" rel="stylesheet" type="text/css" href="./style.css">

<script src="./lib/CSInterface.js"></script>

<script src="./nas/ext-lib/jquery.js"></script>
<script src="./nas/ext-lib/jquery-ui.js"></script>
<script src="./nas/lib/config.js"></script>
<script src="./nas/lib/nas_common.js"></script>
<script src="./nas/lib/nas_common_HTML.js"></script>
<script src="./nas/lib/nas_locale.js"></script>
<script src="./nas/messages.js"></script>
<script src="./ext.js"></script>

<title>nasPsAxe</title>

</head>

<body onSelectStart='return false;' onLoad='onLoaded();'>
<div id="content">
	<div class="fixedHeader" id="fixedHeader">

<button id="inst" class="iconButton iconButton-axe_2" onClick='checkLibInstall()' title="psAxeについて">
</button>
<!-- <span stile="width:300px">nas(u)PsAXE -->
<img id=psAxeLogo src=images/psAxe.png></img>
<button id="perf" class="iconButton iconButton-gia" onClick='doPref()' title="各種設定">
<button id="tltp" class="iconButton iconButton-dialog" onClick='chgTooltip()' title="ツールチップ切替" >
</button>

<br>     <button id="rtBtm" class="iconButton iconButton-shiftLayerB" onClick='doAxeScript("shiftLayersB")' title="上シフト" rel='tooltip' data-placement='bottom' >
</button><button id="rtTop" class="iconButton iconButton-shiftLayerU" onClick='doAxeScript("shiftLayersU")' title="下シフト" rel='tooltip'  data-placement='bottom'>
</button><button id="swpLy" class="iconButton iconButton-swapLayers" onClick='doAxeScript("swapLayers")' title="レイヤ入換" rel='tooltip'  data-placement='bottom'>
</button><button id="FcsTp" class="iconButton iconButton-focusTop" onClick='doAxeScript("activateTopLayer")'title="表示レイヤにフォーカス" rel='tooltip'  data-placement='bottom'>
</button><button id="lnDup" class="iconButton iconButton-duplicateLayers" onClick='doAxeScript("duplicateLyr" );' title="レイヤ複製" rel='tooltip'  data-placement='bottom'>
</button><button id="lnDel" class="iconButton iconButton-removeLayers" onClick='doScript("if((app.documents.length)&&(app.activeDocument.layers.length>1)){app.activeDocument.activeLayer.remove()}")' title="レイヤ削除" rel='tooltip'  data-placement='bottom'>
</button><button id="lyADDc" class="iconButton iconButton-addLayer_1" onClick='doAxeScript("addOvlLayer" )' title="修正レイヤ" rel='tooltip'  data-placement='bottom'>
</button><button id="lyADD" class="iconButton iconButton-addLayer_2" onClick='doAxeScript("addNewLayer" )' title="新規レイヤ" rel='tooltip'  data-placement='bottom'>
</button>
<br>
<button id="lyRVS" class="iconButton iconButton-reverseLayers" onClick='doAxeScript("reverseLayerOrder")' title="レイヤ順反転" rel='tooltip' >
</button><button id="lySRT" class="iconButton iconButton-sortLayers" onClick='doAxeScript("sortLayersByName")' title="レイヤソート" rel='tooltip' >
</button><button id="lyTRP" class="iconButton iconButton-layerSetting" onClick='doAxeScript("onsPref")' title="透過設定" rel='tooltip' > 
</button><button id="lodSp" class="iconButton iconButton-goTo" onClick='doAxeScript("shiftLayers")' title="ラベル指定して移動" rel='tooltip' >
</button><button id=addLNMP class="iconButton iconButton-addPlus" onClick='setLabel("+","add");' title="layer name add +" rel='tooltip' >
</button><button id=delLNMP class="iconButton iconButton-removePlus" onClick='setLabel("+","remove");' title="remove +" rel='tooltip' >
</button><button id=incLNMN class="iconButton iconButton-incr" onClick='doAxeScript("layerNameInc")' title="label number ++" rel='tooltip' >
</button><button id=decLNMN class="iconButton iconButton-decr" onClick='doAxeScript("layerNameDec")' title="label number --" rel='tooltip' >
</button>

<br>
<!-- ボタン配置の再変更　よく使うコマンドを固定ウェルに置き直す　2016 01-30 -->
         <button id="lySMT" class="iconButton iconButton-smartTrsfm" onClick='doAxeScript("smartMove")' title="スマート変形">
</button><button id="lyFIX" class="iconButton iconButton-fixTrsfm" onClick='doAxeScript("smartFix")' title="スマートレイヤをラスタライス">
</button><button id="lyRST" class="iconButton iconButton-resetTrsfm" onClick='doAxeScript("smartReset")' title="スマートレイヤをリセット">
</button><button id=bindLyr class="iconButton iconButton-makeLayerset" onClick='doAxeScript("groupingSelectedLayers")' title="選択レイヤをグループに">
</button><button id=renameSeq class="iconButton iconButton-renumber" onClick='doAxeScript("numberingLayers")' title="セット内を連番">
</button>
<br>

         <button id="onsX" class=cwd onClick='doAxeScript("onsX")' title="透過">[X]]
</button><button id="ons2" class=cwd onClick='doAxeScript("ons2")' title="2枚透過">[2]]]
</button><button id="ons3" class=cwd onClick='doAxeScript("ons3")' title="3枚透過">[3]]]]
</button><button id="ons4" class=cwd onClick='doAxeScript("ons4")' title="4枚透過">[4]]]]]
</button><button id="onsR" class=cwd onClick='doAxeScript("onsReset")' title="不透明度リセット">RESET
</button>
<br>
         <button id="PcTl" class=toolChip onClick="chgTool(this.id)" title="pencil"><img src=images/pen.png></img>
</button><button id="PbTl" class=toolChip onClick='chgTool("PbTl")' title="brush"><img src=images/PbTl.png></img>
</button><button id="ErTl" class=toolChip onClick='chgTool("ErTl")' title="eracer"><img src=images/erace.png></img>
</button><button id="marqueeRectTool" class=toolChip onClick='chgTool("marqueeRectTool")' title="marqueeRect"><img src=images/marquee.png></img>
</button><button id="marqueeEllipTool" class=toolChip onClick='chgTool("marqueeEllipTool")' title="marqueeEllipTool"><img src=images/elipso.png></img>
</button><button id="lassoTool" class=toolChip onClick='chgTool("lassoTool")' title="lassoTool"><img src=images/loop.png></img>
</button><button id="magicWandTool" class=toolChip onClick='chgTool("magicWandTool")' title="magicWandTool"><img src=images/wand.png></img>
</button><button id="quickSelectTool" class=toolChip onClick='chgTool("quickSelectTool")' title="quickSelectTool"><img src=images/quickSelect.png></img>
</button>
<br>
         <button id="moveTool" class=toolChip onClick='chgTool("moveTool")' title="moveTool"><img src=images/move.png></img>
</button><button id="rotateTool" class=toolChip onClick='chgTool("rotateTool")' title="rotateTool"><img src=images/rotation.png></img>
<!--</button><button id="" class=toolChip onClick='chgTool("")' ><img src=images/backDrop.png></img>
</button><button id="" class=toolChip onClick='chgTool("")' ><img src=images/backDrop.png></img>
</button><button id="" class=toolChip onClick='chgTool("")' ><img src=images/backDrop.png></img>
</button><button id="" class=toolChip onClick='chgTool("")' ><img src=images/backDrop.png></img>-->
</button><button id="bucketTool" class=toolChip onClick='chgTool("bucketTool")' title="bucketTool"><img src=images/fill.png></img>
</button><button id="GrTl" class=toolChip onClick='chgTool("GrTl")' title="gradation"><img src=images/GrTl.png></img>
</button>
<br>
<!-- </div> -->

<!-- ========================================================タブ切替スイッチ群=========<div></div> -->


<button id="buttonTab_path" class='iconButton iconButton-path' onClick='chgTab("PTHhandle")' title="path/ruler"><!-- パス編集ツール -->
</button><button id="buttonTab_preview" class='iconButton iconButton-preview' onClick='chgTab("FRMhandle")' title="フレームアニメーション/タイムライン操作"><!-- プレビューコントロール -->
</button><button id="buttonTab_xps" class='iconButton iconButton-xps' onClick='chgTab("XPShandle")' title="タイムシート適用"><!-- XPS編集  -->
</button><button id="buttonTab_layerName" class='iconButton iconButton-layerName' onClick='chgTab("LNMhandle")' title="管理メニュー"><!-- レイヤラベルエディタ-->
</button><button id="buttonTab_documents" class='iconButton iconButton-documents' onClick='chgTab("LYRhandle")' title="管理メニュー"><!-- ドキュメント/レイヤ管理   -->
</button><button id="buttonTab_trace" class='iconButton iconButton-trace' onClick='chgTab("TRChandle")' title="彩色補助ツール"><!-- トレース/ペイント -->
</button><button id="buttonTab_debug" class='iconButton iconButton-debug' onClick='chgTab("DBGCons")' title="デバッグほか"><!--デバッグ/スクリプト-->
</button>

</div>
<!-- ================================================================= -->
<div id="scrollSpaceHd" class="screenSpace"></div>
<div></div>


<!-- パス編集ツール -->
<div id=PTHhandle style="display:inline"
         ><button id="penTool" class=toolChip onClick='chgTool("penTool")' title="penTool" ><img src=images/penTool.png></img>
</button><button id="freeformPenTool" class=toolChip onClick='chgTool("freeformPenTool")' title="freeformPenTool" ><img src=images/freeformPenTool.png></img>
</button><button id="addKnotTool" class=toolChip onClick='chgTool("addKnotTool")' title="addKnotTool" ><img src=images/addKnotTool.png></img>
</button><button id="deleteKnotTool" class=toolChip onClick='chgTool("deleteKnotTool")' title="deleteKnotTool" ><img src=images/deleteKnotTool.png></img>
</button><button id="convertKnotTool" class=toolChip onClick='chgTool("convertKnotTool")' title="convertKnotTool" ><img src=images/convertKnotTool.png></img>
</button><button id="directSelectTool" class=toolChip onClick='chgTool("directSelectTool")' title="directSelectTool" ><img src=images/directSelectTool.png></img>
</button><button id="pathComponentSelectTool" class=toolChip onClick='chgTool("pathComponentSelectTool")' title="pathComponentSelectTool" ><img src=images/pathComponentSelectTool.png></img>
</button><button id="rulerTool" class=toolChip onClick='chgTool("rulerTool")' title="rulerTool" ><img src=images/measureTool.png></img>

</button><br><button id="drawClearP" class=toolChip onClick='doAxeScript("pathRPASp")' title="Draw a path and Delete" ><img src=images/pathRPASp.png></img>
</button><button id="drawVClearP" class=toolChip onClick='doAxeScript("pathRPASnp")' title="Draw a path and Delete" ><img src=images/pathRPASnp.png></img>
</button><button id="drawClearP2" class=toolChip onClick='doAxeScript("pathRPASpB")' title="Draw a path with brush and Delete" ><img src=images/pathRPASpB.png></img>
</button><button id="drawVClearP2" class=toolChip onClick='doAxeScript("pathRPASnpB")' title="Draw a path with brush and Delete" ><img src=images/pathRPASnpB.png></img>
</button><button id="fillClearP" class=toolChip onClick='doAxeScript("pathRPAFa")' title="Fill apath and Delete" ><img src=images/pathRPAFa.png></img>
</button><button id="poster2" class=toolChip onClick='doAxeScript("posterize2+")' title="Binarization for each channel" ><img src=images/ccBlack.png></img>
</button><br>
<!--
	<button class=qw onClick='doAxeScript("rotationAlignmentLayer")' title="rotationAlignmentLayer">layer
</button><button class=qw onClick='doAxeScript("rotationAlignmentDoc")' title="rotationAlignmentDoc">Doc
</button><button class=qw onClick='doAxeScript("rotateSelection")' title="rotateSelection">Sel.
</button><button class=qw onClick='doAxeScript("rotateCanvas")' title="rotateCanvas">Canv.
</button>
<br>
-->
</div>

<!-- プレビューコントロール -->
<div id=FRMhandle style="display:inline">
<button class=fsp id=handleFRM onClick='javascript:document.getElementById("FRMhandle").style.display="none";syncProp();' title="フレームアニメーション/タイムライン操作">Preview/Timeline</button><br>
<button id="convertAFT" class="iconButton iconButton-switchTF" onClick='syncProp(doAxeScript("convertPsAxeAnimation"));' >
</button><button id="vtFocus" class=qw style="width:26px;background-color:#558888;"
 onClick='if(this.innerHTML=="f"){this.innerHTML="✓";doScript("nas.axe.focusMove=false;");}else{this.innerHTML="f";doScript("nas.axe.focusMove=true;");};doScript("nas.writePrefarence(\"nas.axe\")");'  title="フォーカス">✓
</button>


         <button id="atFst" class="iconButton iconButton-goPrev" onClick='doAxeScript("goFrst")' >
</button><button id="atPrv" class="iconButton iconButton-goBWD" onClick='doAxeScript("goPrev")' >
</button><button id="atGo" class="iconButton iconButton-goToTime" onClick='doAxeScript("goFC")' >
</button><button id="atNxt" class="iconButton iconButton-goFWD" onClick='doAxeScript("goNext")' >
</button><button id="atEnd" class="iconButton iconButton-goNext" onClick='doAxeScript("goEnd")' >
</button>
<br>
<div id=vtControl style="display:none">
         <button id="goWAsrt" class="iconButton iconButton-goWorkAreaHead" onClick='doAxeScript(this.id)' >
</button><button id="setWAsrt" class="iconButton iconButton-setWorkAreaHead" onClick='doAxeScript(this.id)' >
</button><button id="liftWA" class="iconButton iconButton-extractWorkArea" onClick='doAxeScript(this.id)' >
</button><button id="extractWA" class="iconButton iconButton-liftWorkArea" onClick='doAxeScript(this.id)' >
</button><button id="setWAend" class="iconButton iconButton-setWaokAreaTail" onClick='doAxeScript(this.id)' >
</button><button id="goWAend" class="iconButton iconButton-goWorkAreaTail" onClick='doAxeScript(this.id)' >
</button>
<br>
                 <button id="moveIP" class="iconButton iconButton-moveStartTL" onClick='doAxeScript(this.id)' >
</button><button id="trimIP" class="iconButton iconButton-setStartTL" onClick='doAxeScript(this.id)' >
</button><button id="sliceTL" class="iconButton iconButton-splitTL" onClick='doAxeScript(this.id)' >
</button><button id="trimOP" class="iconButton iconButton-setEndTL" onClick='doAxeScript(this.id)' >
</button><button id="moveOP" class="iconButton iconButton-moveEndTL" onClick='doAxeScript(this.id)' >
</button>
<br>
                <button id="setKey" class="iconButton iconButton-putKey" onClick='doAxeScript(this.id)' >
</button><button id="rmKey" class="iconButton iconButton-removeKey" onClick='doAxeScript(this.id)' >
</button><button id="activateKey" class="iconButton iconButton-shiftKey" onClick='doAxeScript(this.id)' >
</button><button id="swcFav" class="iconButton iconButton-flagBox" onClick='doAxeScript(this.id)' >
</button><button id="addFav" class="iconButton iconButton-flagPlus" onClick='doAxeScript(this.id)' >
</button><button id="ons" class="iconButton iconButton-ONS" onClick='doAxeScript(this.id)' >
</button><button id="setOns" class="iconButton iconButton-ONSsetting" onClick='doAxeScript(this.id)' >
</button>

<br>
<!-- フレーム入力　IF -->
<button id="vtNewLyr" class="iconButton iconButton-addLayer_2" onClick='doAxeScript("addNewLayer" )' title="新規レイヤ作成">
</button><input id=moveSpanDuration class=qw type=text size=5 value="1+0" style="text-align:center;background-color:#eeeeee;width:80px;" title="新規レイヤの長さ/ヘッド移動スパン"
onMousedown = "this.value=nas.FCT2Frm(this.value);nas.sliderVALUE([event,this,'240','1','0']);"
onChange=' this.value=nas.Frm2FCT(nas.FCT2Frm(this.value.toString()),3,0);
	doScript("app.nas.axe.skipFrames="+nas.FCT2Frm(this.value.toString(),3,0)+";nas.writePrefarence(\"nas.axe\")");'
><button id="vtDec" class=ow style="width:26px;" 
onClick='document.getElementById("moveSpanDuration").value=(nas.FCT2Frm(document.getElementById("moveSpanDuration").value)>1)?nas.Frm2FCT(nas.FCT2Frm(document.getElementById("moveSpanDuration").value)-1,3,0):"0 + 01 .";doScript("app.nas.axe.skipFrames="+nas.FCT2Frm(document.getElementById("moveSpanDuration").value.toString(),3,0)+";nas.writePrefarence(\"nas.axe\")");'
  title="減値">-
</button><button id="vtInc" class=ow style="width:26px;" 
onClick='document.getElementById("moveSpanDuration").value=nas.Frm2FCT(nas.FCT2Frm(document.getElementById("moveSpanDuration").value)+1,3,0);doScript("app.nas.axe.skipFrames="+nas.FCT2Frm(document.getElementById("moveSpanDuration").value.toString(),3,0)+";nas.writePrefarence(\"nas.axe\")");'
  title="増値">+
</button><button id="vtUseOpt" class=qw style="width:26px;background-color:#5555cc;"
 onClick='if(this.innerHTML=="o"){this.innerHTML="✓";doScript("nas.axe.useOptKey=false;");}else{this.innerHTML="o";doScript("nas.axe.useOptKey=true;");};doScript("nas.writePrefarence(\"nas.axe\")");'
  title="キー移動">✓
</button>
<!-- フレーム入力　IF -->
<br></div>
<!----------- 以上timelineClass 以下frameAnimationClass------------->
<div id=afControl style="display:inline;">

         <button id="afSAl" class="iconButton iconButton-selectAllAF" onClick='doAxeScript("afSelectAll")' title="">
</button><button id="afRst" class="iconButton iconButton-initAF" onClick='doAxeScript("removeAnimationFrames")' title="">
</button><button id="afNWF" class="iconButton iconButton-duplicateAF" onClick='doAxeScript("afDuplicate")' title="">
</button><button id="afCpy" class="iconButton iconButton-copyAF" onClick='doAxeScript("afCopy")' title="">
</button><button id="afDel" class="iconButton iconButton-removeAF" onClick='doAxeScript("afDelete")'  title="">
</button><button id="afPst" class="iconButton iconButton-pasteAF" onClick='doAxeScript("afPaste")'  title="">
</button><button id="afRVS" class="iconButton iconButton-reverseAF" onClick='doAxeScript("afReverse")' title="">
</button>
<br>
	
<button id="afLF2" class="iconButton iconButton-expandSelection" onClick='doAxeScript("layers2Frames2")' title="選択レイヤをフレームへ">
</button><button id="afLF1" class="iconButton iconButton-expandLayrset" onClick='doAxeScript("layers2Frames1")' title="レイヤセットからフレームへ">
</button><button id="afLF0" class="iconButton iconButton-expandAll" onClick='doAxeScript("layers2Frames0")' title="全レイヤをフレームへ">
</button>
<!--
         <button id=applyXps class="iconButton iconButton-buildXPS" onClick='doAxeScript("applyXps")' title="">
</button><button id=editXps class="iconButton iconButton-editXPS" onClick='doAxeScript("editXps")' title="">
</button><button id=ezXpsL class="iconButton iconButton-linkXPS" onClick='doAxeScript("easyXPSLink_Ps")' title="">
</button>
-->
<br>
</div>
         <button id="afSd1" class=operation onClick='doAxeScript("setDelay1")' title="">１k
</button><button id="afSd2" class=operation onClick='doAxeScript("setDelay2")' title="">２k
</button><button id="afSd3" class=operation onClick='doAxeScript("setDelay3")' title="">３k
</button><button id="afSdS" class=qw onClick='doAxeScript("durationSpc")' title="遅延指定パネル">[指定]
</button>
<br>
<!-- フレーム入力　IF -->
<input id=currentDuration class=hw type=text size=5 value="0+1" style="text-align:center;background-color:#eeeeee;width:72px;" title="整数またはTCで指定"
onMousedown = "this.value=nas.FCT2Frm(this.value);nas.sliderVALUE([event,this.id,'240','0','0']);"
onChange="this.value=nas.Frm2FCT(nas.FCT2Frm(this.value.toString()),3,0);"
><button id="afDec" class=qw style="width:26px;"
 onClick='document.getElementById("currentDuration").value=(nas.FCT2Frm(document.getElementById("currentDuration").value)>1)?nas.Frm2FCT(nas.FCT2Frm(document.getElementById("currentDuration").value)-1,3,0):"0 + 00 .";'
  title="減値">-
</button><button id="afInc" class=qw style="width:26px;"
 onClick='document.getElementById("currentDuration").value=nas.Frm2FCT(nas.FCT2Frm(document.getElementById("currentDuration").value)+1,3,0);'
  title="増値">+
</button><button id="afSet" class=cw onClick='doAxeScript("setDelay",[document.getElementById("currentDuration").value]);' title="フレーム数指定">set!
</button><button id="setFps" class=cw onClick='doAxeScript(this.id)' >[Fps]</img>
</button>

<!-- フレーム入力　IF afcSetDly(nas.FCT2Frm(document.getElementById("currentDuration").value)/FRATE);-->
<br>
</div>
<!-- ================================================================= -->
<!-- XPS編集 -->
<div id=XPShandle style="display:none">
<button id=handleXPS class=fsp onClick='javascript:document.getElementById("XPShandle").style.display=(document.getElementById("XPShandle").style.display=="none")?"inline":"none";' title="タイムシート適用">XPSタイムシート</button><br>
         <button id=applyXps class="iconButton iconButton-buildXPS" onClick='doAxeScript("applyXps")' title="">
</button><button id=editXps class="iconButton iconButton-editXPS" onClick='doAxeScript("editXps")' title="">
</button><button id=ezXpsL class="iconButton iconButton-linkXPS" onClick='doAxeScript("easyXPSLink_Ps")' title="">
</button><button id=dial2Tx class="iconButton iconButton-dialog2Text" onClick='doAxeScript("convertDialog2Text")' title="">
</button>
<br>
</div>
<!-- ================================================================= -->
<!-- レイヤラベルエディタ 
数値付きラベルだった場合は数値部分を残してプレフィックスのみを変更する
複数レイヤが選択されている場合は、全てのレイヤのプレフィックスを更新する
-->
<div id=LNMhandle style="display:none">
<button id=handleLMN class=fsp onClick='javascript:document.getElementById("LNMhandle").style.display=(document.getElementById("LNMhandle").style.display=="none")?"inline":"none";' title="管理メニュー">レイヤラベルエディタ</button><br>
	<button id=getLNM class=owd style="width:18px;" onclick="var newValue=getCurrentLabel(document.getElementById('myLabel').value);" title="get label from current layer"
	>⇒</button><input type=text id=myLabel class=hw style="text-align:center;background-color:#eeeeee;width:150px;" value="LO"
	onChange="setLabel(this.value,false);"
	><select id=LLSelector name=LLSelector class=owd style="width:20px;height:20px;" onChange="document.getElementById('myLabel').value+=this.value;">
<option>LO</option>
<option>BG</option>
<option>cont</option>
<option>Frames</option>
<option>peg</option>
<option>MASK</option>
<option>memo</option>
<option>3D-CGI</option>
<option>演出</option>
<option>作監</option>
<option>美術</option>
<option>監督</option>
<option>美監</option>
<option>制作</option>
<option>原画</option>
<option>動画</option>
</select
><br>
	<button id=applyLNM class=qwd style="height:16px;" onClick='setLabel(document.getElementById("myLabel").value,"selection");' title="set Label">Label
</button><button id=setLNM class=qwd style="height:16px;" onClick='setLabel(document.getElementById("myLabel").value,"")' title="set　layerName">Name
</button><button id=applyL2L class=qwd style="height:16px;" onClick='setLabel(document.getElementById("myLabel").value,"auto");' title="set　Label to Layers">bulk
</button><button id=applyL2sL class=qwd style="height:16px;" onClick='setLabel(document.getElementById("myLabel").value,"swap");' title="set　Label to selected layers">apply
</button><br>
         <button  id=pacPS class=hwd style="height:16px;" onClick='doAxeScript("PacPs")' title="レイヤ名一括変更">［PacPs］
</button> <button id=ezFlip class=hwd style="height:16px;" onClick='doAxeScript("ezFlip")' title="レイヤ名変更パネル">[レイヤ名変更]
</button>


<!--  -->
<br>
                <button id="ccRd"  class=colorChip onClick='doAxeScript(this.id)' style="backGround-color:red">R
</button><button id="ccOr" class=colorChip onClick='doAxeScript(this.id)' style="backGround-color:orange">Or
</button><button id="ccYl"  class=colorChip onClick='doAxeScript(this.id)' style="backGround-color:gold" >Yl
</button><button id="ccGr"  class=colorChip onClick='doAxeScript(this.id)' style="backGround-color:green">Gr
</button><button id="ccBl"  class=colorChip onClick='doAxeScript(this.id)' style="backGround-color:blue" >B
</button><button id="ccVl"  class=colorChip onClick='doAxeScript(this.id)' style="backGround-color:violet" >V
</button><button id="ccGy"  class=colorChip onClick='doAxeScript(this.id)' style="backGround-color:gray" >Gy
</button><button id="ccX"    class=colorChip onClick='doAxeScript(this.id)' style="backGround-color:whitesmoke;color:black;" >×
</button>

<br>
</div>
<!-- ドキュメント/レイヤ管理   -->
<div id=LYRhandle style="display:inline">
<button id=handleLYR class=fsp onClick='javascript:document.getElementById("LYRhandle").style.display=(document.getElementById("LYRhandle").style.display=="none")?"inline":"none";' title="管理メニュー">ドキュメント/レイヤ管理</button><br>
         <button id=newDoc class="iconButton iconButton-document" onClick='doAxeScript("addNewDocument")' title="新規ドキュメント">
</button><button id=newXps class="iconButton iconButton-timesheet" onClick='doAxeScript("addNewXpsA3")' title="新規シート(画像)">
</button><button id=import class="iconButton iconButton-import" onClick='doAxeScript("importFilesAsLayer")' title="フォルダ指定でファイルをレイヤとして読み込む">
</button><button id=export class="iconButton iconButton-export" onClick='doAxeScript("exportLayersAsFile")' title="レイヤをファイルに書き出し">
</button></button><button id=bindDoc class="iconButton iconButton-gatherLayers" onClick='doAxeScript("documentBinder")' title="ドキュメントをひとつにまとめる">
</button><button id=divLyr class="iconButton iconButton-divideLayers" onClick='doAxeScript("divideLayers")' title="レイヤ名で振り分け">
</button><button id=iptRGST class="iconButton iconButton-addRegister" onClick='doAxeScript("loadPeg")' title="レジスタマークを読み込み">
</button><button id=cpyRGST class="iconButton iconButton-duplicateRegister" onClick='doAxeScript("duplicateReg")' title="選択レイヤにレジスタマークを複製" >
</button><br><button id=import class="iconButton iconButton-fromTVP" onClick='doAxeScript("classifyTVPData")' title="TVPcsvを変換（仮）">
</button><button id=export class="iconButton iconButton-toTVP" onClick='doAxeScript("exportPsdForTvp")' title="TVP用に書き出し（仮）">
</button><button id=addTXT class="iconButton iconButton-addText" onClick='doAxeScript("addNewNumText")' title="カット番号を挿入">
</button><button id=edtTXT class="iconButton iconButton-editText" onClick='doAxeScript("editTextSource")' title="テキストレイヤのソースを編集">
</button><button id=iptFCHT class="iconButton iconButton-fldChart" onClick='doAxeScript("importFieldChart")' title="フィールドチャート読込">
</button><button id=iptRCHT class="iconButton iconButton-refChart" onClick='doAxeScript("importReference")' title="リファレンスチャート読込">

</div>
<!-- トレース/ペイント -->
<div id=TRChandle style="display:none">
<button id=handleTRC class=fsp onClick='javascript:document.getElementById("TRChandle").style.display=(document.getElementById("TRChandle").style.display=="none")?"inline":"none";' title="彩色補助ツール">トレース/ペイント</button><br>
<!--
<button id=thinnig class="iconButton iconButton-thiningLine" onClick='doAxeScript("thinLine")' title="">
</button>
<button id=AFtG class="iconButton iconButton-traceG" onClick='doAxeScript("applyFilterTraceG")' title="">
</button>
<button id=AFtC class="iconButton iconButton-traceC" onClick='doAxeScript("applyFilterTraceC")' title="">
</button><button id=AFtP class="iconButton iconButton-traceM" onClick='doAxeScript("applyFilterTraceP")' title="">
</button><button id=AFtY class="iconButton iconButton-traceY" onClick='doAxeScript("applyFilterTraceY")' title="">
</button><button id=AFtGY class="iconButton iconButton-traceGY" onClick='doAxeScript("applyFilterTraceGY")' title="" >
</button><br>
 -->
	<button id=nomalizeLine class="iconButton iconButton-tracePPP" onClick='doAxeScript("scanLineNormalize")' title="">
</button><button id=linSPLT class="iconButton iconButton-separation" onClick='doAxeScript("lineSplit")' title="">
</button><button id=PPP class="iconButton iconButton-paintLayer" onClick='doAxeScript("PaintPreProcess")' title="">
</button><button id=borderFill class="iconButton iconButton-borderFill" onClick='doAxeScript("applyFilterBorderFill")' title="">
</button><button id=smooth class="iconButton iconButton-smoother" onClick='doAxeScript("applyFilterAA")' title="">
</button><button id=putColorChip class="iconButton iconButton-colorBox" onClick='doAxeScript("putColorChip")' title="">
</button><button id=getColorInfo class="iconButton iconButton-colorInfo" onClick='doAxeScript("getFrontColorInfo")' title="">
</button><br>
              <button id=AFtR class="iconButton iconButton-traceR" onClick='doAxeScript("traceR")' title="">
</button><button id=AFtB class="iconButton iconButton-traceB" onClick='doAxeScript("traceRx")' title="">
</button><button id=AFtK class="iconButton iconButton-traceK" onClick='doAxeScript("traceK")' title="">
</button><button id=fillWhite class="iconButton iconButton-cell" onClick='doAxeScript("fillWhite")' title="">
</button><button id=AFtAll class="iconButton iconButton-traceAll" onClick='doAxeScript("applyFilterTraceAll")' title="">
</button><button id=AFtFG class="iconButton iconButton-traceFGC" onClick='doAxeScript("traceCol")' title="" >
</button> 
<br>
<!-- -->
</div>
<!--デバッグ/スクリプト-->
<div id=DBGCons  style="display:none;">
<button id=handleDBG class=fsp onClick='javascript:document.getElementById("DBGCons").style.display=(document.getElementById("DBGCons").style.display=="none")?"inline":"none";' title="デバッグほか">デバッグ/スクリプト</button>+<br>
<button id=chgLocale onclick='if(nas.locale=="ja"){nas.LangPack.chgLocale(nas.locale="en");doScript("nas.locale=\"en\"");}else{nas.LangPack.chgLocale(nas.locale="ja");doScript("nas.locale=\"ja\"");};return false;' title="change UI locale en/ja">
	change UI locale en/ja</button>
<br>

<A id=aesConsole HREF="javascript:void(0);" onclick='doAxeScript("dbgConsolePs");return false;' title="Adobe Script Console">
	[photoshop js コンソール]</A>
<br>
<A id=nasCalk HREF="nasCalc/index.html" title="電卓">
	/電卓/</A>
<br>
<button id=reload class=fwd onClick='location="./index.html"'>/reload/</button>
<br>

<button id=jsConsole class=fw onClick='javascript:document.getElementById("dbgConsolePsAxe").style.display=(document.getElementById("dbgConsolePsAxe").style.display=="none")?"inline":"none";' title="エクスプレッションの評価">
	/Javascript Console/</button>
<br>

<!-- <input type=text size=14 value=0 onMousedown = "nas.sliderVALUE([event,this,'260','-60','-1'])" >
-->

<!--
	<button class=hw onClick='doAxeScript("marqueeRectTool")' title="">marqueeRectTool
</button><button class=hw onClick='doAxeScript("rulerTool")' title="">rulerTool
</button>
	<button id= class=qw onClick='doAxeScript("")' title="">QT
</button><button id= class=qw onClick='doAxeScript("")' title="">QT
</button><button id= class=qw onClick='doAxeScript("")' title="">QT
</button><button id= class=qw onClick='doAxeScript("")' title="">QT
</button>
<br> -->
<script language = "JavaScript">
<!--
function evalCMD(name) {
var eXpression = document.getElementById("inputBox1").value
+ "\n;" + document.getElementById("inputBox2").value +"\n;";
var resultText="";
try{resultText= eval(eXpression);}catch(err){resultText=err};

document.getElementById("resultBox").value +="\n"+resultText;
}
function evalApplicationCMD(name) {
    var eXpression = "nas=app.nas;"+document.getElementById("inputBox1").value
+ "\n;" + document.getElementById("inputBox2").value +"\n;";
var resultText="";
    if(appHost.platform == 'CEP'){
        try{
            resultText= evalScript(eXpression,function(myResult){
                document.getElementById("resultBox").value+="\n"+myResult;
            });
        }catch(err){
            resultText=err
        };
        if(resultText){
            document.getElementById("resultBox").value +="\nerr:\n"+resultText;
        }
    } else if(appHost.platform == 'CSX'){
        try{
            resultText= getApplicationResult(eXpression);
        }catch(err){
            resultText=err;
        };
        document.getElementById("resultBox").value +="\n"+resultText;
    }else{
        console.log('no application photoshop.\n TEST : '+eXpression);
    }
}
function doCmdWithApplication(cmd,cback){
    cmd = String(cmd);
    if(cmd.indexOf("'") >= 0) cmd = cmd.replace(/\'/g,"\\'");
    var eXpression = "if(typeof nas =='undefined') var nas = app.nas; var result;try{ result = eval('"+cmd+"');}catch(err){result = err};String(result);";
    var resultText="";
    if(appHost.platform == 'CSX'){
        try{
            resultText = getApplicationResult(eXpression);
        }catch(err){
            resultText = "\nerr :\n" + err;
        };
        nas.console.putResult(resultText,nas.console);
    }else if(appHost.platform == 'CEP'){
        try{
            resultText = new CSInterface().evalScript(eXpression,function(res){nas.console.putResult(res,nas.console)});
        }catch(err){
//            resultText = err;
            nas.console.putResult(err,nas.console)
            };
        if(resultText){
            cback("\nerr:\n"+resultText,nas.console);
        };
    } else {
        cback('no application photoshop.\n TEST : '+eXpression,this);
    };
}

-->
</script>
<div id=dbgConsolePsAxe style="display:inline;">
CONSOLE<BR>
<textarea id=console name="console" COLS=32 ROWS=8 WRAP=soft 
style="text-align:left;color:snow;background:#444444;font-size:9pt;border:1"
>
</textarea><BR>
<button id=chgHost class=hwd onClick='nas.console.changeHost()'>changeHost</button>
<button id=cls     class=hwd onClick="nas.console.clear()">clear</button>
<br>
<button id=cls     class=fwd onClick='javascript:document.getElementById("oldStyleConsole").style.display=(document.getElementById("oldStyleConsole").style.display=="none")?"inline":"none";'>old-console</button>
<div id='oldStyleConsole' style="display:none;">
<textarea id=resultBox name="RESULTBOX" COLS=32 ROWS=8 WRAP=soft onFocus="select()"
style="text-align:left;color:black;background:white;font-size:9pt;border:1"
>
</textarea><BR>
INPUT1<BR>
<textarea id=inputBox1 name="INPUTBOX1" COLS=32 ROWS=5 WRAP=soft onFocus="select()"
style="text-align:left;color:black;background:white;font-size:9pt;border:1"
>
</textarea><BR>
INPUT2<BR>
<textarea id=inputBox2 name="INPUTBOX2" COLS=32 ROWS=5 WRAP=soft onFocus="select()"
style="text-align:left;color:black;background:white;font-size:9pt;border:1"
>
</textarea><BR>
<button id=actioN class=hwd onClick='evalCMD()'>EVAL</button>
<button id=sctioN2 class=hwd onClick="evalApplicationCMD()">EVAL-app</button>
<br>
<button id=cleaR class=hw onClick='document.getElementById("resultBox").value="";'>clear result</button>

<button id=cls1 class=qw onClick='document.getElementById("inputBox1").value="";'>clear 1</button>
<button id=cls2 class=qw onClick='document.getElementById("inputBox2").value="";'>clear 2</button>
</div>
</div>
  </div>
</div></body>

</html>
